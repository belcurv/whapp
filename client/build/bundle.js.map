{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/controller.js","src/js/main.js","src/js/model.js","src/js/service.js","src/js/template.js","src/js/util.js","src/js/view.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/* controller.js -- connects our model and view */\n/* jshint esversion:6, devel:true */\n\nexport default class Controller {\n    \n    constructor(model, view) {\n        this.model = model;\n        this.view  = view;\n    }\n    \n    \n    render(data) {\n        this.view.render(data);\n        \n    }\n    \n    \n    setView() {\n        console.log('controller setView fired');\n        this.model.getProfiles()\n            .then( data => this.render(data));\n    }\n    \n}","/* jshint esversion:6, browser:true */\n\nimport Model      from './model';\nimport { $on }    from './util';\nimport View       from './view';\nimport Controller from './controller';\n\nclass App {\n    \n    constructor() {\n        const model = new Model();\n        const view  = new View();\n        \n        this.controller = new Controller(model, view);\n    }\n    \n}\n\nconst app = new App();\n\nconst setView = () => {\n    app.controller.setView();\n};\n\n$on(window, 'load', setView);\n","/* jshint esversion:6, devel:true */\n/*\n   T3BC1RPPH = chingu central\n   T4ZS2DFAA = chingu rhinos\n   T5518TKBR = extemporaneous\n*/\n\nimport { getJSON } from './service';\n\nexport default class Model {\n    \n    constructor() {\n        \n    }\n    \n    /* fetch user profiles for a given team ID\n    */\n    getProfiles() {\n        return getJSON('/api/team/T3BC1RPPH')\n            .then( (profiles) => {\n                console.log('profiles from model.js', profiles);\n                return profiles;\n            });\n    }\n\n    \n}\n","/* jshint esversion:6, devel:true, browser:true */\n\n///* a get JSON function using callbacks\n//*/\n//const getJSON = (url, success, error) => {\n//    const xhr = new XMLHttpRequest();\n//    xhr.onreadystatechange = () => {\n//        if (xhr.readyState === 4) {\n//            if (xhr.status === 200) {\n//                success(JSON.parse(xhr.responseText));\n//            } else {\n//                error(xhr.responseText);\n//            }\n//        }\n//    };\n//    xhr.open('GET', url);\n//    xhr.send();\n//};\n\n\n/* a get JSON function using promises\n*/\nconst getJSON = (url) => {\n    const xhr = new XMLHttpRequest();\n    return new Promise( (resolve, reject) => {\n        xhr.onreadystatechange = () => {\n            if (xhr.readyState === 4) {\n                if (xhr.status === 200) {\n                    resolve(JSON.parse(xhr.responseText));\n                } else {\n                    reject(xhr.responseText);\n                }\n            }\n        };\n        xhr.open('GET', url);\n        xhr.send();\n    });\n};\n\n\nexport { getJSON };\n","/* jshint esversion:6, devel:true */\n\n\n/* utility method for easy templating of repeating html elements\n * such as lists.\n *\n * 'tagged template literals' are strings that are first passed\n * through a custom function which returns the processed string.\n *\n * @params  [array]  literal     [array of all the literal secti\n * @params  [array]  ...cooked   [rest param: all the proccessed expressions]\n * @returns [string]             [the processed string]\n */\nconst html = (literalsArr, ...cooked) => {\n    let result = '';\n\n    cooked.forEach((cook, i) => {\n        let lit = literalsArr[i];\n        if (Array.isArray(cook)) {\n            cook = cook.join('');\n        }\n        result += lit;\n        result += cook;\n    });\n    result += literalsArr[literalsArr.length - 1];\n    return result;\n};\n\n\n/* template that returns a 'tr'\n*/\nconst table_row = (profile) => html `\n    <tr>\n        <td>${profile.team_domain}</td>\n        <td>${profile.user_name}</td>\n        <td>${(profile.timestamp).slice(3,15)}</td>\n        <td>${profile.skills.length}</td>\n        <td>${profile.skills.join(', ')}</td>\n    </tr>\n`;\n\n\n/* template that loops over the array of profiles adding a 'tr' for each\n*/\nconst table_template = (data) => html `\n    <table class=\"table\">\n        <thead>\n            <th>Team</th>\n            <th>Team Member</th>\n            <th>Last Updated</th>\n            <th>Total Skills</th>\n            <th>Skills</th>\n        </thead>\n        <tbody>\n            ${data.map( profile => table_row(profile) )}\n        </tbody>\n    </table>\n`;\n\n//console.log(table_template(temp_data));\n\nexport { table_template };\n","/* library of helper functions */\n/* jshint esversion:6 */\n\n/* register handler to an event emitted by a target */\nconst $on = (target, event, handler) => {\n    return target.addEventListener(event, handler);\n};\n\nexport { $on };\n","/* view.js\n   handles rendering and DOM events.\n   uses the template strings, feeds them data, and adds their output\n   to the right DOM elements.\n*/\n/* jshint esversion:6, browser: true */\n\nimport { table_template } from './template';\n\nexport default class View {\n    \n    constructor() {\n        this.el = document.getElementById('target');\n    }\n    \n    render(data) {\n        console.log('data from view', data);\n        this.el.innerHTML = table_template(data);\n    }\n    \n}\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29udHJvbGxlci5qcyIsInNyYy9qcy9tYWluLmpzIiwic3JjL2pzL21vZGVsLmpzIiwic3JjL2pzL3NlcnZpY2UuanMiLCJzcmMvanMvdGVtcGxhdGUuanMiLCJzcmMvanMvdXRpbC5qcyIsInNyYy9qcy92aWV3LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztBQ0FBO0FBQ0E7O0lBRXFCLFU7QUFFakIsd0JBQVksS0FBWixFQUFtQixJQUFuQixFQUF5QjtBQUFBOztBQUNyQixhQUFLLEtBQUwsR0FBYSxLQUFiO0FBQ0EsYUFBSyxJQUFMLEdBQWEsSUFBYjtBQUNIOzs7OytCQUdNLEksRUFBTTtBQUNULGlCQUFLLElBQUwsQ0FBVSxNQUFWLENBQWlCLElBQWpCO0FBRUg7OztrQ0FHUztBQUFBOztBQUNOLG9CQUFRLEdBQVIsQ0FBWSwwQkFBWjtBQUNBLGlCQUFLLEtBQUwsQ0FBVyxXQUFYLEdBQ0ssSUFETCxDQUNXO0FBQUEsdUJBQVEsTUFBSyxNQUFMLENBQVksSUFBWixDQUFSO0FBQUEsYUFEWDtBQUVIOzs7Ozs7a0JBbEJnQixVOzs7OztBQ0RyQjs7OztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7OzswSkFMQTs7SUFPTSxHLEdBRUYsZUFBYztBQUFBOztBQUNWLFFBQU0sUUFBUSxxQkFBZDtBQUNBLFFBQU0sT0FBUSxvQkFBZDs7QUFFQSxTQUFLLFVBQUwsR0FBa0IseUJBQWUsS0FBZixFQUFzQixJQUF0QixDQUFsQjtBQUNILEM7O0FBSUwsSUFBTSxNQUFNLElBQUksR0FBSixFQUFaOztBQUVBLElBQU0sVUFBVSxTQUFWLE9BQVUsR0FBTTtBQUNsQixRQUFJLFVBQUosQ0FBZSxPQUFmO0FBQ0gsQ0FGRDs7QUFJQSxlQUFJLE1BQUosRUFBWSxNQUFaLEVBQW9CLE9BQXBCOzs7Ozs7Ozs7cWpCQ3hCQTtBQUNBOzs7Ozs7QUFNQTs7OztJQUVx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RUFBOEIsSUFBOUI7QUFDQSxpQkFBSyxFQUFMLENBQVEsU0FBUixHQUFvQiw4QkFBZSxJQUFmLENBQXBCO0FBQ0g7Ozs7OztrQkFUZ0IsSSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiBjb250cm9sbGVyLmpzIC0tIGNvbm5lY3RzIG91ciBtb2RlbCBhbmQgdmlldyAqL1xuLyoganNoaW50IGVzdmVyc2lvbjo2LCBkZXZlbDp0cnVlICovXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRyb2xsZXIge1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKG1vZGVsLCB2aWV3KSB7XG4gICAgICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcbiAgICAgICAgdGhpcy52aWV3ICA9IHZpZXc7XG4gICAgfVxuICAgIFxuICAgIFxuICAgIHJlbmRlcihkYXRhKSB7XG4gICAgICAgIHRoaXMudmlldy5yZW5kZXIoZGF0YSk7XG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICBcbiAgICBzZXRWaWV3KCkge1xuICAgICAgICBjb25zb2xlLmxvZygnY29udHJvbGxlciBzZXRWaWV3IGZpcmVkJyk7XG4gICAgICAgIHRoaXMubW9kZWwuZ2V0UHJvZmlsZXMoKVxuICAgICAgICAgICAgLnRoZW4oIGRhdGEgPT4gdGhpcy5yZW5kZXIoZGF0YSkpO1xuICAgIH1cbiAgICBcbn0iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOjYsIGJyb3dzZXI6dHJ1ZSAqL1xuXG5pbXBvcnQgTW9kZWwgICAgICBmcm9tICcuL21vZGVsJztcbmltcG9ydCB7ICRvbiB9ICAgIGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgVmlldyAgICAgICBmcm9tICcuL3ZpZXcnO1xuaW1wb3J0IENvbnRyb2xsZXIgZnJvbSAnLi9jb250cm9sbGVyJztcblxuY2xhc3MgQXBwIHtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSBuZXcgTW9kZWwoKTtcbiAgICAgICAgY29uc3QgdmlldyAgPSBuZXcgVmlldygpO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5jb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIobW9kZWwsIHZpZXcpO1xuICAgIH1cbiAgICBcbn1cblxuY29uc3QgYXBwID0gbmV3IEFwcCgpO1xuXG5jb25zdCBzZXRWaWV3ID0gKCkgPT4ge1xuICAgIGFwcC5jb250cm9sbGVyLnNldFZpZXcoKTtcbn07XG5cbiRvbih3aW5kb3csICdsb2FkJywgc2V0Vmlldyk7XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOjYsIGRldmVsOnRydWUgKi9cbi8qXG4gICBUM0JDMVJQUEggPSBjaGluZ3UgY2VudHJhbFxuICAgVDRaUzJERkFBID0gY2hpbmd1IHJoaW5vc1xuICAgVDU1MThUS0JSID0gZXh0ZW1wb3JhbmVvdXNcbiovXG5cbmltcG9ydCB7IGdldEpTT04gfSBmcm9tICcuL3NlcnZpY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RlbCB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIFxuICAgIH1cbiAgICBcbiAgICAvKiBmZXRjaCB1c2VyIHByb2ZpbGVzIGZvciBhIGdpdmVuIHRlYW0gSURcbiAgICAqL1xuICAgIGdldFByb2ZpbGVzKCkge1xuICAgICAgICByZXR1cm4gZ2V0SlNPTignL2FwaS90ZWFtL1QzQkMxUlBQSCcpXG4gICAgICAgICAgICAudGhlbiggKHByb2ZpbGVzKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Byb2ZpbGVzIGZyb20gbW9kZWwuanMnLCBwcm9maWxlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb2ZpbGVzO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgXG59XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOjYsIGRldmVsOnRydWUsIGJyb3dzZXI6dHJ1ZSAqL1xuXG4vLy8qIGEgZ2V0IEpTT04gZnVuY3Rpb24gdXNpbmcgY2FsbGJhY2tzXG4vLyovXG4vL2NvbnN0IGdldEpTT04gPSAodXJsLCBzdWNjZXNzLCBlcnJvcikgPT4ge1xuLy8gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4vLyAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuLy8gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuLy8gICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4vLyAgICAgICAgICAgICAgICBzdWNjZXNzKEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkpO1xuLy8gICAgICAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgICAgICAgZXJyb3IoeGhyLnJlc3BvbnNlVGV4dCk7XG4vLyAgICAgICAgICAgIH1cbi8vICAgICAgICB9XG4vLyAgICB9O1xuLy8gICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4vLyAgICB4aHIuc2VuZCgpO1xuLy99O1xuXG5cbi8qIGEgZ2V0IEpTT04gZnVuY3Rpb24gdXNpbmcgcHJvbWlzZXNcbiovXG5jb25zdCBnZXRKU09OID0gKHVybCkgPT4ge1xuICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dCkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH0pO1xufTtcblxuXG5leHBvcnQgeyBnZXRKU09OIH07XG4iLCIvKiBqc2hpbnQgZXN2ZXJzaW9uOjYsIGRldmVsOnRydWUgKi9cblxuXG4vKiB1dGlsaXR5IG1ldGhvZCBmb3IgZWFzeSB0ZW1wbGF0aW5nIG9mIHJlcGVhdGluZyBodG1sIGVsZW1lbnRzXG4gKiBzdWNoIGFzIGxpc3RzLlxuICpcbiAqICd0YWdnZWQgdGVtcGxhdGUgbGl0ZXJhbHMnIGFyZSBzdHJpbmdzIHRoYXQgYXJlIGZpcnN0IHBhc3NlZFxuICogdGhyb3VnaCBhIGN1c3RvbSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIHRoZSBwcm9jZXNzZWQgc3RyaW5nLlxuICpcbiAqIEBwYXJhbXMgIFthcnJheV0gIGxpdGVyYWwgICAgIFthcnJheSBvZiBhbGwgdGhlIGxpdGVyYWwgc2VjdGlcbiAqIEBwYXJhbXMgIFthcnJheV0gIC4uLmNvb2tlZCAgIFtyZXN0IHBhcmFtOiBhbGwgdGhlIHByb2NjZXNzZWQgZXhwcmVzc2lvbnNdXG4gKiBAcmV0dXJucyBbc3RyaW5nXSAgICAgICAgICAgICBbdGhlIHByb2Nlc3NlZCBzdHJpbmddXG4gKi9cbmNvbnN0IGh0bWwgPSAobGl0ZXJhbHNBcnIsIC4uLmNvb2tlZCkgPT4ge1xuICAgIGxldCByZXN1bHQgPSAnJztcblxuICAgIGNvb2tlZC5mb3JFYWNoKChjb29rLCBpKSA9PiB7XG4gICAgICAgIGxldCBsaXQgPSBsaXRlcmFsc0FycltpXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29vaykpIHtcbiAgICAgICAgICAgIGNvb2sgPSBjb29rLmpvaW4oJycpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCArPSBsaXQ7XG4gICAgICAgIHJlc3VsdCArPSBjb29rO1xuICAgIH0pO1xuICAgIHJlc3VsdCArPSBsaXRlcmFsc0FycltsaXRlcmFsc0Fyci5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vKiB0ZW1wbGF0ZSB0aGF0IHJldHVybnMgYSAndHInXG4qL1xuY29uc3QgdGFibGVfcm93ID0gKHByb2ZpbGUpID0+IGh0bWwgYFxuICAgIDx0cj5cbiAgICAgICAgPHRkPiR7cHJvZmlsZS50ZWFtX2RvbWFpbn08L3RkPlxuICAgICAgICA8dGQ+JHtwcm9maWxlLnVzZXJfbmFtZX08L3RkPlxuICAgICAgICA8dGQ+JHsocHJvZmlsZS50aW1lc3RhbXApLnNsaWNlKDMsMTUpfTwvdGQ+XG4gICAgICAgIDx0ZD4ke3Byb2ZpbGUuc2tpbGxzLmxlbmd0aH08L3RkPlxuICAgICAgICA8dGQ+JHtwcm9maWxlLnNraWxscy5qb2luKCcsICcpfTwvdGQ+XG4gICAgPC90cj5cbmA7XG5cblxuLyogdGVtcGxhdGUgdGhhdCBsb29wcyBvdmVyIHRoZSBhcnJheSBvZiBwcm9maWxlcyBhZGRpbmcgYSAndHInIGZvciBlYWNoXG4qL1xuY29uc3QgdGFibGVfdGVtcGxhdGUgPSAoZGF0YSkgPT4gaHRtbCBgXG4gICAgPHRhYmxlIGNsYXNzPVwidGFibGVcIj5cbiAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgPHRoPlRlYW08L3RoPlxuICAgICAgICAgICAgPHRoPlRlYW0gTWVtYmVyPC90aD5cbiAgICAgICAgICAgIDx0aD5MYXN0IFVwZGF0ZWQ8L3RoPlxuICAgICAgICAgICAgPHRoPlRvdGFsIFNraWxsczwvdGg+XG4gICAgICAgICAgICA8dGg+U2tpbGxzPC90aD5cbiAgICAgICAgPC90aGVhZD5cbiAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgJHtkYXRhLm1hcCggcHJvZmlsZSA9PiB0YWJsZV9yb3cocHJvZmlsZSkgKX1cbiAgICAgICAgPC90Ym9keT5cbiAgICA8L3RhYmxlPlxuYDtcblxuLy9jb25zb2xlLmxvZyh0YWJsZV90ZW1wbGF0ZSh0ZW1wX2RhdGEpKTtcblxuZXhwb3J0IHsgdGFibGVfdGVtcGxhdGUgfTtcbiIsIi8qIGxpYnJhcnkgb2YgaGVscGVyIGZ1bmN0aW9ucyAqL1xuLyoganNoaW50IGVzdmVyc2lvbjo2ICovXG5cbi8qIHJlZ2lzdGVyIGhhbmRsZXIgdG8gYW4gZXZlbnQgZW1pdHRlZCBieSBhIHRhcmdldCAqL1xuY29uc3QgJG9uID0gKHRhcmdldCwgZXZlbnQsIGhhbmRsZXIpID0+IHtcbiAgICByZXR1cm4gdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIpO1xufTtcblxuZXhwb3J0IHsgJG9uIH07XG4iLCIvKiB2aWV3LmpzXG4gICBoYW5kbGVzIHJlbmRlcmluZyBhbmQgRE9NIGV2ZW50cy5cbiAgIHVzZXMgdGhlIHRlbXBsYXRlIHN0cmluZ3MsIGZlZWRzIHRoZW0gZGF0YSwgYW5kIGFkZHMgdGhlaXIgb3V0cHV0XG4gICB0byB0aGUgcmlnaHQgRE9NIGVsZW1lbnRzLlxuKi9cbi8qIGpzaGludCBlc3ZlcnNpb246NiwgYnJvd3NlcjogdHJ1ZSAqL1xuXG5pbXBvcnQgeyB0YWJsZV90ZW1wbGF0ZSB9IGZyb20gJy4vdGVtcGxhdGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3IHtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0YXJnZXQnKTtcbiAgICB9XG4gICAgXG4gICAgcmVuZGVyKGRhdGEpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2RhdGEgZnJvbSB2aWV3JywgZGF0YSk7XG4gICAgICAgIHRoaXMuZWwuaW5uZXJIVE1MID0gdGFibGVfdGVtcGxhdGUoZGF0YSk7XG4gICAgfVxuICAgIFxufVxuIl19"}